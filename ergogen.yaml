units:
  u: U
  $default_width: u
  $default_height: u

  r5_mod: 1.5u
  r5_bar: 7u

  lmod_r4: 2.25u
  lmod_r3: 1.75u
  lmod_r2: 1.5u

  rmod_r4: 2.75u
  rmod_r3: 2.25u
  rmod_r2: 1.5u
  rmod_r1: 2u

  lmod_shift_r4: 0
  lmod_shift_r3: -(lmod_r4 / 2) + (lmod_r3 / 2)
  lmod_shift_r2: -(lmod_r3 / 2) + (lmod_r2 / 2)
  lmod_shift_r1: -(lmod_r2 / 2) + (u / 2)

  alpha_shift_r4: lmod_r4 / 2 - u / 2
  alpha_shift_r3: lmod_shift_r3 * 2
  alpha_shift_r2: lmod_shift_r2 * 2
  alpha_shift_r1: lmod_shift_r1 * 2

  rmod_shift_r4: lmod_r4 / 2 + rmod_r4 / 2 - u
  rmod_shift_r3: rmod_r3 / 2 - u
  rmod_shift_r2: 0
  rmod_shift_r1: rmod_r2 / 2 - u

  f_row_offset: u * 1.5

points:
  zones.alpha:
    rows:
      r4:
        shift: [alpha_shift_r4, 0]
      r3:
        shift: [alpha_shift_r3, 0]
      r2:
        shift: [alpha_shift_r2, 0]
      r1:
        shift: [alpha_shift_r1, 0]
    columns:
      c1:
        rows:
          r4:
            width: lmod_r4
            shift: [lmod_shift_r4, 0]
          r3:
            width: lmod_r3
            shift: [lmod_shift_r3, 0]
          r2:
            width: lmod_r2
            shift: [lmod_shift_r2, 0]
          r1:
            shift: [lmod_shift_r1, 0]
      c2:
      c3:
      c4:
      c5:
      c6:
      c7:
      c8:
      c9:
      c10:
      c11:
      c12:
        rows:
          r4:
            width: rmod_r4
            shift: [rmod_shift_r4, 0]
          r3:
            shift: [-(rmod_shift_r4 - alpha_shift_r4) + alpha_shift_r3, 0]
      c13:
        rows:
          r4.skip: true
          r3:
            width: rmod_r3
            shift: [rmod_shift_r3, 0]
          r2:
            shift: [-(rmod_shift_r3 - alpha_shift_r3) + alpha_shift_r2]
      c14:
        rows:
          r4.skip: true
          r3.skip: true
          r2:
            width: rmod_r2
            shift: [rmod_shift_r2, 0]
          r1:
            width: rmod_r1
            shift: [rmod_shift_r1, 0]
  zones.r5:
    anchor:
      ref: alpha_c1_r4
      shift: [1.5u / 2 - lmod_r4 / 2, -u]
    columns:
      c1:
        key.width: r5_mod
      c2:
        key.width: r5_mod
        key.shift: [r5_mod, 0]
      c3:
        key.width: r5_bar
        key.shift: [r5_mod * 2.5 + u, 0]
      c4:
        key.width: r5_mod
        key.shift: [r5_bar + r5_mod - u/2, 0]
      c5:
        key.width: r5_mod
        key.shift: [r5_bar + r5_mod + u, 0]
  zones.caps_stepped:
    anchor:
      ref: alpha_c1_r3
      shift: [-lmod_r2 / 4, 0]
  zones.split_rs:
    anchor:
      ref: alpha_c12_r4
      shift: [-rmod_r4 / 2 + u / 2, 0]
    columns:
      c1:
        key:
          width: 1.75u
          shift: [1.75u / 2 - u /2, 0]
      c2:
        key.shift: [1.75u - u, 0]
  zones.split_bs:
    anchor:
      ref: alpha_c14_r1
      shift: [rmod_r1 / 4 - u, 0]
    columns:
      c1:
      c2:
  zones.sixtyfive_row:
    anchor:
      ref: split_bs_c2
      shift: [u, -u*4]
    columns:
      c1:
    rows:
      r5:
      r4:
      r3:
      r2:
      r1:
  zones.f_keys:
    anchor:
      ref: alpha_c1_r1
      shift: [0, f_row_offset]
    columns:
      c1:
      c2:
        key.spread: u * 1.5
      c3:
      c4:
      c5:
      c6:
        key.spread: u * 1.5
      c7:
      c8:
      c9:
      c10:
        key.spread: u * 1.5
      c11:
      c12:
      c13:
      c14:
        key.spread: u * 1.5
  key:
    tags:
      keys: true

outlines:
  test:
    - operation: add
      where: keys
      what: rectangle
      size: [14, 14]